{"ast":null,"code":"import _regeneratorRuntime from\"E:/Projects/Undergrade/PhotoDo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/Projects/Undergrade/PhotoDo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/Projects/Undergrade/PhotoDo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import'./imgLayer.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ImgLayer=function ImgLayer(_ref){var layerActive=_ref.layerActive,setLayerActive=_ref.setLayerActive,activeImg=_ref.activeImg;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),downloadUrl=_useState2[0],setDownloadUrl=_useState2[1];useEffect(function(){var fun=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var blob;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(activeImg.largeImageURL).then(function(r){return r.blob();});case 3:blob=_context.sent;setDownloadUrl(window.URL.createObjectURL(blob));_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fun(){return _ref2.apply(this,arguments);};}();fun();},[activeImg]);return/*#__PURE__*/_jsxs(\"div\",{className:layerActive?\"imgLayer active\":\"imgLayer\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return setLayerActive(false);},src:\"images/close.png\",alt:\"\",className:\"closeBtn\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"imgCard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"topBar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"userImg\",src:activeImg.userImageURL||\"https://firebasestorage.googleapis.com/v0/b/luxuryhub-3b0f6.appspot.com/o/Site%20Images%2Fprofile.png?alt=media&token=6f94d26d-315c-478b-9892-67fda99d2cd6\",alt:\"\"}),/*#__PURE__*/_jsx(\"span\",{children:activeImg.user})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right\",children:/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",rel:\"noreferrer\",className:\"downloadBtn\",href:downloadUrl,download:true,children:\"Download Free\"})})]}),/*#__PURE__*/_jsx(\"img\",{className:\"mainImg\",src:activeImg.largeImageURL,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"interactions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"images/like.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"span\",{children:activeImg.likes})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"images/comment.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"span\",{children:activeImg.comments})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"images/download.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"span\",{children:activeImg.downloads})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"images/view.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"span\",{children:activeImg.views})]})]})]})]});};export default ImgLayer;","map":{"version":3,"names":["useState","useEffect","jsx","_jsx","jsxs","_jsxs","ImgLayer","_ref","layerActive","setLayerActive","activeImg","_useState","_useState2","_slicedToArray","downloadUrl","setDownloadUrl","fun","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","blob","wrap","_callee$","_context","prev","next","fetch","largeImageURL","then","r","sent","window","URL","createObjectURL","t0","stop","apply","arguments","className","children","onClick","src","alt","userImageURL","user","target","rel","href","download","likes","comments","downloads","views"],"sources":["E:/Projects/Undergrade/PhotoDo/src/Components/ImgLayer/ImgLayer.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport './imgLayer.scss';\r\n\r\nconst ImgLayer = ({ layerActive, setLayerActive, activeImg }) => {\r\n    const [downloadUrl, setDownloadUrl] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        const fun = async () => {\r\n            try {\r\n                let blob = await fetch(activeImg.largeImageURL).then(r => r.blob());\r\n                setDownloadUrl(window.URL.createObjectURL(blob));\r\n            }\r\n            catch (e) {\r\n\r\n            }\r\n        }\r\n        fun();\r\n    }, [activeImg]);\r\n\r\n    return (\r\n        <div className={layerActive ? \"imgLayer active\" : \"imgLayer\"}>\r\n            <img onClick={() => setLayerActive(false)} src=\"images/close.png\" alt=\"\" className=\"closeBtn\" />\r\n            <div className=\"imgCard\">\r\n                <div className=\"topBar\">\r\n                    <div className=\"left\">\r\n                        <img className=\"userImg\" src={activeImg.userImageURL || \"https://firebasestorage.googleapis.com/v0/b/luxuryhub-3b0f6.appspot.com/o/Site%20Images%2Fprofile.png?alt=media&token=6f94d26d-315c-478b-9892-67fda99d2cd6\"} alt=\"\" />\r\n                        <span>\r\n                            {activeImg.user}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"right\">\r\n                        <a target=\"_blank\" rel=\"noreferrer\" className=\"downloadBtn\" href={downloadUrl} download>\r\n                            Download Free\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <img className=\"mainImg\" src={activeImg.largeImageURL} alt=\"\" />\r\n                <div className=\"interactions\">\r\n                    <div className=\"item\">\r\n                        <img src=\"images/like.png\" alt=\"\" />\r\n                        <span>\r\n                            {activeImg.likes}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"item\">\r\n                        <img src=\"images/comment.png\" alt=\"\" />\r\n                        <span>\r\n                            {activeImg.comments}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"item\">\r\n                        <img src=\"images/download.png\" alt=\"\" />\r\n                        <span>\r\n                            {activeImg.downloads}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"item\">\r\n                        <img src=\"images/view.png\" alt=\"\" />\r\n                        <span>\r\n                            {activeImg.views}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImgLayer"],"mappings":"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"},"metadata":{},"sourceType":"module"}